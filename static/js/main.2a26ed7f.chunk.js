(this["webpackJsonpcovid-tracker"]=this["webpackJsonpcovid-tracker"]||[]).push([[0],{235:function(t,e){},237:function(t,e){},247:function(t,e,r){},254:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r(1),c=r.n(n),o=r(111),s=r.n(o),i=r(6),l=r(112),u=r.n(l),d=r(110),f=r(113),j=(r(247),r(5));function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}function p(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},c=Object.keys(t);for(a=0;a<c.length;a++)r=c[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)r=c[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var b=n.createElement("path",{d:"M 64 6 C 48.5 6 33.9 12 23 23 C 12 33.9 6 48.5 6 64 C 6 79.5 12 94.1 23 105 C 34 116 48.5 122 64 122 C 79.5 122 94.1 116 105 105 C 116 94 122 79.5 122 64 C 122 48.5 116 33.9 105 23 C 94.1 12 79.5 6 64 6 z M 64 12 C 77.9 12 90.900781 17.399219 100.80078 27.199219 C 110.70078 36.999219 116 50.1 116 64 C 116 77.9 110.60078 90.900781 100.80078 100.80078 C 90.900781 110.60078 77.9 116 64 116 C 50.1 116 37.099219 110.60078 27.199219 100.80078 C 17.299219 91.000781 12 77.9 12 64 C 12 50.1 17.399219 37.099219 27.199219 27.199219 C 36.999219 17.299219 50.1 12 64 12 z M 50.5625 47.5 C 49.8 47.5 49.05 47.800391 48.5 48.400391 C 47.3 49.600391 47.3 51.499609 48.5 52.599609 L 59.800781 64 L 48.400391 75.300781 C 47.200391 76.500781 47.200391 78.4 48.400391 79.5 C 49.000391 80.1 49.8 80.400391 50.5 80.400391 C 51.2 80.400391 51.999609 80.1 52.599609 79.5 L 64 68.199219 L 75.300781 79.5 C 75.900781 80.1 76.700391 80.400391 77.400391 80.400391 C 78.100391 80.400391 78.9 80.1 79.5 79.5 C 80.7 78.3 80.7 76.400781 79.5 75.300781 L 68.199219 64 L 79.5 52.699219 C 80.7 51.499219 80.699609 49.600391 79.599609 48.400391 C 78.399609 47.200391 76.500391 47.200391 75.400391 48.400391 L 64 59.800781 L 52.699219 48.400391 C 52.099219 47.800391 51.325 47.5 50.5625 47.5 z"});function h(t,e){var r=t.title,a=t.titleId,c=p(t,["title","titleId"]);return n.createElement("svg",m({fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",width:"64px",height:"64px",ref:e,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,b)}var O=n.forwardRef(h),v=(r.p,function(t){var e=t.countryData,r=t.setShowCard,c=t.showCard,o=t.selectedCountry,s=t.isoCodes,l=t.timeData,u=t.render,d=Object(n.useState)({}),f=Object(i.a)(d,2),m=f[0],p=f[1];Object(n.useEffect)((function(){if(l.length>0&&e){var t=l.reduce((function(t,r){return r[e.location]>0&&r.date.length>0&&t.push({date:j.m("%Y-%m-%d")(r.date),value:parseInt(r[e.location])}),t}),[]);p(t)}}),[e,l]);return e?Object(a.jsxs)("div",{className:c?"info-container":"inactive",children:[Object(a.jsxs)("div",{className:"info-title-container",children:[Object(a.jsx)("header",{className:"card-title",children:e.location}),Object(a.jsx)("img",{className:"flag-image",src:"OWID_WRL"===o?"":"https://www.countryflags.io/".concat(s.iso_a3,"/shiny/32.png"),alt:""}),Object(a.jsx)("button",{className:"cancel-button",children:Object(a.jsx)(O,{onClick:function(){r(!1)},className:"cancel-icon"})})]}),Object(a.jsx)("div",{className:"body-container",children:u(m)}),Object(a.jsxs)("div",{className:"footer-container",children:[Object(a.jsxs)("li",{className:"footer-item",children:[Object(a.jsx)("h4",{className:"footer-item-desc",children:(new Intl.NumberFormat).format(e.new_tests)}),Object(a.jsx)("p",{className:"footer-item-title",children:"new tests"})]}),Object(a.jsxs)("li",{className:"footer-item",children:[Object(a.jsx)("h4",{className:"footer-item-desc",children:(new Intl.NumberFormat).format(e.total_cases)}),Object(a.jsx)("p",{className:"footer-item-title",children:"cases"})]}),Object(a.jsxs)("li",{className:"footer-item",children:[Object(a.jsx)("h4",{className:"footer-item-desc",children:Intl.NumberFormat().format(e.new_cases)}),Object(a.jsx)("p",{className:"footer-item-title",children:"new cases"})]})]})]}):Object(a.jsx)("div",{})});function g(){return(g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t}).apply(this,arguments)}function x(t,e){if(null==t)return{};var r,a,n=function(t,e){if(null==t)return{};var r,a,n={},c=Object.keys(t);for(a=0;a<c.length;a++)r=c[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(a=0;a<c.length;a++)r=c[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var y=n.createElement("defs",null,n.createElement("style",null)),w=n.createElement("path",{className:"a",d:"M46.5,19A1.49977,1.49977,0,0,0,45,20.5V22H40.87225a16.9,16.9,0,0,0-3.53-8.51367l2.92121-2.92139,1.17582.99561a1.49993,1.49993,0,1,0,2.12134-2.1211l-4.99991-5a1.4999,1.4999,0,0,0-2.12127,2.1211l.99565,1.17578-2.92139,2.92138A16.90205,16.90205,0,0,0,26,7.12793V3h1.5a1.5,1.5,0,0,0,0-3h-7a1.5,1.5,0,0,0,0,3H22V7.12793a16.90205,16.90205,0,0,0-8.51367,3.52978L10.56494,7.73633l.99565-1.17578a1.4999,1.4999,0,0,0-2.12127-2.1211l-4.88475,5a1.49993,1.49993,0,0,0,2.12133,2.1211l1.06067-.99561,2.92121,2.92139A16.9,16.9,0,0,0,7.12775,22H3V20.5a1.5,1.5,0,0,0-3,0v7a1.5,1.5,0,0,0,3,0V26H7.12775a16.9,16.9,0,0,0,3.53,8.51367L7.73657,37.43506l-1.17582-.99561a1.49993,1.49993,0,0,0-2.12134,2.1211l4.99991,5a1.4999,1.4999,0,1,0,2.12127-2.1211l-.99565-1.17578,2.92127-2.92138A16.902,16.902,0,0,0,22,40.87207V45H20.5a1.5,1.5,0,0,0,0,3h7a1.5,1.5,0,0,0,0-3H26V40.87207a16.902,16.902,0,0,0,8.51379-3.52978l2.92127,2.92138-.99565,1.17578a1.4999,1.4999,0,0,0,2.12127,2.1211l4.99991-5a1.49993,1.49993,0,1,0-2.12134-2.1211l-1.17582.99561-2.92121-2.92139A16.9,16.9,0,0,0,40.87225,26H45v1.5a1.5,1.5,0,0,0,3,0v-7A1.49977,1.49977,0,0,0,46.5,19Zm-28,1A3.5,3.5,0,1,1,22,16.5,3.49994,3.49994,0,0,1,18.5,20ZM30,33a2,2,0,1,1,2-2A2.00006,2.00006,0,0,1,30,33Z"});function C(t,e){var r=t.title,a=t.titleId,c=x(t,["title","titleId"]);return n.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:e,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,y,w)}var N=n.forwardRef(C),k=(r.p,function(t){var e=Object(n.useRef)(),r=Object(n.useRef)(),c=Object(n.useRef)(),o=Object(n.useRef)();return Object(n.useEffect)((function(){if(t.formattedData.length>0){var r={top:0,bottom:20,left:40,right:20},a=600-r.left-r.right-3,n=300-r.top-r.bottom,o=e.current.getBoundingClientRect().height,s=j.k(e.current).append("svg").attr("display","block").attr("preserveAspectRatio","none").attr("viewBox","0 0 ".concat(600," ").concat(o)),i=s.append("g").attr("transform","translate(".concat(r.left,",0)")),l=j.j().domain(j.d(t.formattedData,(function(t){return t.date}))).range([0,a]),u=j.i().range([n,0]).domain([0,j.g(t.formattedData,(function(t){return t.value}))]);i.append("g").call(j.b(u).tickFormat((function(t){return j.e(".2s")(t)}))),i.append("g").attr("transform","translate(0,".concat(n,")")).call(j.a(l).ticks(5));var d=j.c((function(t){return t.date})).left,f=i.append("g").append("circle").style("fill","#4285f4").attr("stroke","#4285f4").attr("r",4).style("opacity",0),m=j.k(e.current).append("div"),p=j.k(c.current).append("p").attr("class","graph-counter").attr("x","50%").attr("y","50%").attr("fill","black").attr("font-size","12px").attr("dominant-baseline","middle").attr("text-anchor","middle"),b=j.k(c.current).append("p").attr("class","graph-counter").attr("fill","black").attr("font-size","12px").attr("dominant-baseline","middle").attr("text-anchor","middle");i.selectAll("g").attr("font-family","Roboto Mono, monospace").attr("font-size","12px"),i.append("path").datum(t.formattedData).attr("fill","none").attr("stroke","#4285f4").attr("stroke-width",3).attr("vector-effect","non-scaling-stroke").attr("d",j.f().x((function(t){return l(t.date)})).y((function(t){return u(t.value)}))),s.select("g").append("rect").attr("overflow","visible").style("fill","none").attr("x",0).attr("y",-120).attr("height",400).attr("width",a).style("pointer-events","all").on("mouseover",(function(){f.style("opacity",1)})).on("mousemove",(function(e){var r=l.invert(j.h(e)[0]),a=d(t.formattedData,r,1),n=t.formattedData[a];if(!n)return;f.attr("cx",l(n.date)).attr("cy",u(n.value)),p.html(j.l("%B,%d")(n.date)),b.html((new Intl.NumberFormat).format(n.value)),m.attr("x",l(n.date)),m.attr("y",u(n.value))})).on("mouseout",(function(){f.style("opacity",0)}))}return function(){j.k(e.current).selectAll("svg").remove(),j.k(e.current).selectAll("div").remove(),j.k(c.current).selectAll("p").remove()}}),[t.formattedData]),Object(a.jsxs)("div",{ref:o,className:"graph-wrapper",children:[Object(a.jsx)("div",{className:"graph-container",ref:r,children:Object(a.jsx)("div",{className:"svg-image",ref:e})}),Object(a.jsx)("div",{ref:c,className:"graph-counter"})]})}),E=r(42),S=function(t){var e=t.setTooltipContent,r=t.data,n=t.selectCountry,c=t.getCountry,o=t.colorScale,s=t.setShowCard;return Object(a.jsx)("div",{className:"map-container",children:Object(a.jsxs)(E.ComposableMap,{xx:"","data-tip":"",projectionConfig:{scale:147},children:[Object(a.jsx)(E.Graticule,{stroke:"#dadce0"}),Object(a.jsx)(E.Geographies,{geography:"https://raw.githubusercontent.com/zcreativelabs/react-simple-maps/master/topojson-maps/world-110m.json",children:function(t){return t.geographies.map((function(t){var i=t.properties,l=i.NAME,u=i.ISO_A3,d=r[u];return Object(a.jsx)(E.Geography,{cur:d,stroke:"#EAEAEC",strokeWidth:"0.4px",cursor:"pointer",fill:d?o(d.total_cases):"",onClick:function(){return function(t){r[t.properties.ISO_A3]?(s(!0),n(t.properties.ISO_A3,t.properties.ISO_A2),c(t.properties.ISO_A3)):(window.alert("Not enough data."),s(!1))}(t)},onMouseEnter:function(){e(l)},onMouseLeave:function(){e("")},geography:t},t.rsmKey)}))}})]})})},A=function(t){var e=t.length;return t.hasOwnProperty?Array.prototype.slice.call(t):new Array(e).fill().map((function(e){return t[e]}))},I=function(t,e,r,a){return{top:{l:-r/2,r:r/2,t:-(a+3+2),b:-3},bottom:undefined,left:undefined,right:undefined}},_=function(t){var e=t.getBoundingClientRect(),r=e.height,a=e.width;return{height:parseInt(r,10),width:parseInt(a,10)}},D=function(t,e){return{mouseX:t.clientX,mouseY:t.clientY}},L=function(t){var e=Object(n.useState)(!1),r=Object(i.a)(e,2)[1],c=Object(n.useState)(!1),o=Object(i.a)(c,2)[1],s=Object(n.useState)(!1),l=Object(i.a)(s,2)[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),f=d[0],j=d[1],m=Object(n.useState)(""),p=Object(i.a)(m,2)[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),O=h[0],v=h[1];Object(n.useEffect)((function(){return x(),function(){k()}}),[t.children]);var g=Object(n.useRef)(null),x=function(){w().forEach((function(t){t.addEventListener("mouseenter",y,!1),t.addEventListener("mousemove",C,!1)}))},y=function(t){if(g){var e=t.currentTarget.getAttribute("data-tip"),r=t.currentTarget;p("dark"),j("top"),o((function(t){return r})),v(e)}},w=function(){var t,e=[];return t="[data-tip]",A(document.getElementsByTagName("*")).filter((function(t){return t.shadowRoot})).forEach((function(r){e=e.concat(A(r.shadowRoot.querySelector(t)))})),e.concat(A(document.querySelectorAll(t)))},C=function(e){var a=e.currentTarget||e.target,n=g.current;n.style.display="block";r((function(){var r=function(){var e=t.children;return function(t,e){return e||t}(O,e)}();if(!N(r)){var c={};c.currentEvent=e,c.currentTarget=a;var o=function(t,e,r,a){var n=_(r),c=n.width,o=n.height,s=_(e),i=s.width,l=s.height,u=D(t,e),d=u.mouseX,f=u.mouseY,j=I(i,l,c,o);return{position:{left:parseInt(function(t){var e=j[t].l;return d+e}(a)),top:parseInt(function(t){var e=j[t].t;return f+e}(a)),bottom:parseInt(function(t){var e=j[t].b;return f+e}(a)),right:parseInt(function(t){var e=j[t].r;return d+e}(a))}}}(c.currentEvent,c.currentTarget,n,f);return n.style.left=o.position.left+"px",n.style.top=o.position.top-20+"px",c}n.style.display="none"})),o((function(t){return a})),l(!0)},N=function(t){return"string"===typeof t&&""===t||null===t},k=function(){w().forEach((function(t){t.removeEventListener("mouseenter",y,!1),t.removeEventListener("mousemove",C,!1)}))};return Object(a.jsx)("div",{className:"tooltip-map",ref:g,children:t.children})},R=r(59),T=r.n(R),B=function(t){var e=t.countryData,r=t.getCountry;t.render;if(Object(n.useEffect)((function(){r("OWID_WRD")}),[]),!e)return Object(a.jsx)("div",{});return Object(a.jsxs)("div",{className:"tracker-container",children:[Object(a.jsxs)("div",{className:"counter-container",children:[Object(a.jsx)("header",{className:"tracker-item-title",children:"Total Cases: "}),e.total_cases?Object(a.jsx)(T.a,{separator:",",format:"d",duration:"1",end:e.total_cases}):null]}),Object(a.jsxs)("div",{className:"counter-container",children:[Object(a.jsxs)("header",{className:"tracker-item-title",children:["Total Deaths: ","  "]}),e.total_deaths?Object(a.jsx)(T.a,{separator:",",format:"d",duration:"1",end:e.total_deaths}):null]}),Object(a.jsxs)("div",{onClick:function(){},className:"counter-container",children:[Object(a.jsxs)("header",{className:"tracker-item-title",children:["Total Vaccinated: ","  "]}),e.total_vaccinations?Object(a.jsx)(T.a,{separator:",",format:"d",duration:"1",end:e.total_vaccinations}):null]})]})},F=function(){var t,e=Object(n.useState)(""),r=Object(i.a)(e,2),c=r[0],o=r[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),j=l[0],m=l[1],p=Object(n.useState)([]),b=Object(i.a)(p,2),h=b[0],O=b[1],g=Object(n.useState)(""),x=Object(i.a)(g,2),y=x[0],w=(x[1],Object(n.useState)({})),C=Object(i.a)(w,2),E=C[0],A=C[1],I=Object(n.useState)(!1),_=Object(i.a)(I,2),D=_[0],R=_[1],T=Object(n.useState)({iso_a2:"",iso_a3:""}),F=Object(i.a)(T,2),M=F[0],P=F[1],V=Object(n.useState)([]),z=Object(i.a)(V,2),H=z[0],W=z[1];Object(n.useEffect)((function(){Object(f.a)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/biweekly_cases.csv",{complete:function(t){W(t.data)},header:!0})}),[]),Object(n.useEffect)((function(){u()({url:"https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/latest/owid-covid-latest.json",method:"GET"}).then((function(t){var e=Object.keys(t.data).map((function(e){return t.data[e]}));A(e),m(t.data),O(t.data.OWID_WRL)}))}),[]),E.length>0&&(t=Object(d.a)().domain(E.map((function(t){return t.total_cases}))).range(["#EAF2F8","#7FB3D5","#7FB3D5","#5499C7","#2980B9","#2471A3","#1F618D","#1A5276","#154360"]));var G=function(t){j[t]&&O(j[t])};return j?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(L,{children:c}),Object(a.jsxs)("div",{className:"wrapper",children:[" ",D?Object(a.jsx)(v,{timeData:H,isoCodes:M,showCard:D,setShowCard:R,countryData:h,render:function(t){return Object(a.jsx)(k,{isoCodes:M,formattedData:t})}}):null,Object(a.jsxs)("div",{className:"title-container",children:[Object(a.jsx)("header",{className:"title",children:"Covid-19 Tracker"}),Object(a.jsx)("div",{className:"cov-image-container",children:Object(a.jsx)(N,{style:{fill:"white"}})})]}),Object(a.jsxs)("div",{className:"map-wrapper",children:[Object(a.jsx)(B,{getCountry:G,countryData:h}),Object(a.jsx)(S,{setShowCard:R,colorScale:t,getCountry:G,selectCountry:function(t,e){P({iso_a2:t,iso_a3:e})},getData:function(t){if(j)return j.filter((function(e){if(Object.getOwnPropertyNames(e)[0]===t.properties.ISO_A3)return e}))},selectedCountry:y,data:j,setTooltipContent:o})]})]})]}):Object(a.jsx)("div",{})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root"))}},[[254,1,2]]]);
//# sourceMappingURL=main.2a26ed7f.chunk.js.map